<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Netflix Titles Map</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
    <style type="text/css">
      * {
        margin:0;padding:0;
        box-sizing: border-box;
      }
      body{
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        color:#222;
      }
      #map{
        width:100vw;
        height:100vh;
      }
      #caption{
        position:absolute;
        bottom:10px;
        left:10px;
        z-index:1000;
        background:rgba(255,255,255,0.9);
        padding:0.5rem 0.8rem;
        border-radius:4px;
        font-size:0.75rem;
        color:#666;
      }
      #caption a{
        color:#0066cc;
        text-decoration:none;
      }
      #caption a:hover{
        text-decoration:underline;
      }
      #loader{
        position:absolute;
        top:50%;
        left:50%;
        transform:translate(-50%, -50%);
        z-index:1001;
        background:white;
        padding:1rem 1.5rem;
        border-radius:6px;
        box-shadow:0 2px 8px rgba(0,0,0,0.2);
        text-align:center;
        font-size:0.9rem;
      }
      #loader.hidden{
        display:none;
      }
      #controls{
        position:absolute;
        top:15px;
        right:15px;
        z-index:1000;
        background:white;
        padding:0.6rem;
        border-radius:6px;
        box-shadow:0 2px 6px rgba(0,0,0,0.15);
      }
      #controls button{
        display:block;
        width:100%;
        padding:0.4rem 0.7rem;
        margin-bottom:0.4rem;
        border:1px solid #ddd;
        background:white;
        border-radius:3px;
        cursor:pointer;
        font-size:0.8rem;
        transition:all 0.2s;
      }
      #controls button:last-child{
        margin-bottom:0;
      }
      #controls button:hover{
        background:#f5f5f5;
      }
      #controls button.active{
        background:#666;
        color:white;
        border-color:#666;
      }
      .leaflet-popup-content{
        font-size:1rem;
        max-width:300px;
      }
      .leaflet-tooltip h3{
        margin-bottom:0.5rem;
        font-size:1.1rem;
      }
      .leaflet-tooltip .count{
        color:#666;
        margin-bottom:0.5rem;
      }
      .leaflet-tooltip ul{
        margin-left:0;
        padding-left:1rem;
        max-height:200px;
        overflow-y:auto;
      }
      .leaflet-tooltip li{
        font-size:0.85rem;
        margin-bottom:0.3rem;
      }
    </style>
  </head>
  <body>
    <div id="loader">
      <div id="loader-text">Loading titles...</div>
    </div>
    
    <div id="controls">
      <button id="btn-all" class="active">All</button>
      <button id="btn-movies">Movies</button>
      <button id="btn-tv">TV Shows</button>
    </div>
    
    <div id="caption">Countries where Netflix titles were filmed/produced â€¢ Data from <a href="https://www.themoviedb.org/" target="_blank">TMDB</a></div>
    
    <div id="map"></div>
  </body>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script type="module" src="app.js"></script>
</html>
